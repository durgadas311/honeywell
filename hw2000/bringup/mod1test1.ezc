00000* PROGRAM TO TEST WRITING TO MOD1 DISK FILE
00000         PROG  MOD1T1
00000         ORG   1340
00000         ADMODE4
00000         MAC   MOD1MSIO
00000*
00000L        MIOC  A
00000*
00000* FILE ITEM SIZE IS ASSUMED TO BE 80,
00000* AS IS TAPE BLOCK SIZE IF USED
00000*
00000C F1     MCA   A,DEVTAB
00000C        10    RECD2,,MOVE,ITMP
00000C        20    MYFILE01,
00000L        31    02,
00000* ALL EXITS ARE FATAL, HANDLED BY MIOC
00000* LOOK FOR ERRORS ON CONSOLE TYPEWRITER
00000  ITMP   DSA   RECD1
00000*
00000  START  CAM   60
00000*
00000L        MSOPENF1,OUT
00000* READ FROM CARDS
00000  MORE   PDT   RECD1,12,41,60,00
00000         PCB   *,12,41,10
00000         PCB   DONE,12,41,41    ERROR MEANS END
00000*        SCR   CLC,02       MUST MATCH RWC IN PDT
00000*        SCR   SLC,12       MUST MATCH RWC IN PDT
00000*        BS    SLC,CLC
00000*        BCT   DONE,60      ZERO MEANS FILE MARK
00000* RECORD LENGTH MUST MATCH FILE ITEM LENGTH
00000L        MSPUT F1,
00000         B     MORE
00000*
00000L DONE   MSCLOSF1
00000         PDT   FIN,10,02,01
00000         PCB   *,10,02,00
00000         B     (164)    PROGRAM EXIT
00000*
00000  CLC    DSA   0
00000  SLC    DSA   0
00000*
00000  DEVTAB RESV  0
00000         DCW   #3C040000     PCA, LUN, 00
00000 L       DCW   #1B0
00000*
00000   RECD1 RESV, 80       DATA BUFFER
00000 L       DCW   #1A
00000*
00000   RECD2 RESV, 256      BLOCK BUFFER
00000 L       DCW   #1A
00000 L       DCW   #1A
00000 L       DCW   #1A
00000*
00000 F FIN   DC    @FINISHED @
00000*
00000         END   START
